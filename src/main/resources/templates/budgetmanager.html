<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
      layout:decorator="starter">
<head>
    <meta charset="UTF-8">
    <title>家具预算后台</title>
</head>
<body>
<!-- Content Wrapper. Contains page content -->
<div layout:fragment="content" class="content-wrapper">
    <!-- Content Header (Page header) -->
    <style>
        #addUser {
            margin-top: 10px;
            margin-bottom: 10px;
        }
    </style>
    <section class="content-header">
        <h1>
            预算管理
            <small>Optional description</small>
        </h1>
        <ol class="breadcrumb">
            <li><a href="#"><i class="fa fa-dashboard"></i> Level</a></li>
            <li class="active">Here</li>
        </ol>
    </section>

    <!-- Main content -->
    <section class="content container-fluid">
        <table class="table" id="table"
               data-toggle="table"
               data-striped="true"
               data-search="true"
               data-click-to-select="true"
               data-pagination="true"
               data-page-size="1000"
               data-page-list="[]" data-url="/api/dIYBudget">
            <thead>
            <tr>
                <th data-field="id">ID</th>
                <th data-field="user">User</th>
                <th data-field="meterials">Meterials</th>
                <th data-field="workers">Workers</th>
                <th data-field="console" data-formatter="optFormatter">Option</th>
            </tr>
            </thead>
        </table>
        <script>
            $(function () {
                var str = $(".fixed-table-toolbar")[0].innerHTML;
                $(".fixed-table-toolbar")[0].innerHTML = "<button type=\"button\" class=\"btn btn-success\"  data-toggle=\"modal\" data-target=\"#modalAddUser\" id='addUser'>新增</button>" + str;
                $("#table").bootstrapTable('resetView', {
                    height: document.documentElement.clientHeight - 200
                });
            })

            function optFormatter(value, row, index) {
                var e = '<button type="button" class="btn btn-info  btn-xs" style="margin-right: 5px">编辑</button>';
                e += '<button type="button" class="btn btn-danger  btn-xs">删除</button>';
                return e;
            }
        </script>
        <!--<script type="application/javascript">-->
        <!--$(function () {-->
        <!--$.ajax({-->
        <!--type:"GET",-->
        <!--url:"/api/user",-->
        <!--success:function (data) {-->
        <!--$("#table").bootstrapTable('load',data);-->
        <!--}-->
        <!--})-->
        <!--})-->
        <!--</script>-->
        <!-- Modal -->
        <div class="modal fade" id="modalAddUser" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="myModalLabel">Create a new user</h4>
                    </div>
                    <div class="modal-body">
                        <form class="form-horizontal">
                            <div class="form-group">
                                <label for="inputName" class="col-sm-2 control-label">User Name</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" id="inputName" placeholder="User's Name">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="inputPassword" class="col-sm-2 control-label">Password</label>
                                <div class="col-sm-10">
                                    <input type="password" class="form-control" id="inputPassword"
                                           placeholder="Password">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">User Type</label>
                                <div class="col-sm-10">
                                    <select class="form-control">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                    </select>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary">Save changes</button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- /.content -->
</div>
<!-- /.content-wrapper -->
</body>
</html>