<!--
	Author: W3layouts
	Author URL: http://w3layouts.com
	License: Creative Commons Attribution 3.0 Unported
	License URL: http://creativecommons.org/licenses/by/3.0/
-->
<!DOCTYPE html>
<html lang="zh">
<head>
    <!-- Meta tags -->
    <title>注册</title>
    <meta name="keywords" content="decorate a interior Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template,
	Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design"/>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- stylesheets -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/font-awesome.css">
    <link rel="stylesheet" href="css/flexslider.css" type="text/css" media="screen"/> <!-- Testimonials js-->
    <link rel="stylesheet" href="css/lightbox.css">
    <link rel="stylesheet" href="css/style.css">

    <!-- google fonts -->
    <link href="//fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Raleway:300,400,500,600,700,700i,800,900" rel="stylesheet">
    <!-- scripts -->
    <script src="js/jquery.min.js"></script>


    <!-- Register -->
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!--jquery-->
    <!-- jQuery 3 -->
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <!--shake-->
    <script src="js/shake.js"></script>
    <!--alert-->
    <script src="js/alert.js"></script>
    <!-- Bootstrap 3.3.7 -->
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- AdminLTE App -->
    <script src="dist/js/adminlte.min.js"></script>
    <!--<script type="text/javascript" src="/js/jquery-3.2.1.min.js"></script>-->
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="bower_components/Ionicons/css/ionicons.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="dist/css/AdminLTE.min.css">
    <!--Bootstrap-select-->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/css/bootstrap-select.min.css">
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/js/bootstrap-select.min.js"></script>
    <!-- (Optional) Latest compiled and minified JavaScript translation files -->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/js/i18n/defaults-*.min.js"></script>-->
    <!--Bootstrap-select-->
    <!-- AdminLTE Skins. We have chosen the skin-blue for this starter
              page. However, you can choose any other skin. Make sure you
              apply the skin class to the body tag so the changes take effect. -->
    <link rel="stylesheet" href="dist/css/skins/skin-blue.min.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.12.1/bootstrap-table.min.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.12.1/bootstrap-table.min.js"></script>

    <!-- Latest compiled and minified Locales -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.12.1/locale/bootstrap-table-zh-CN.min.js"></script>

    <!-- Google Font -->
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">


</head>
<body>
<div class="agile-banner">

    <nav class="navbar w3-navbar">

        <div class="container-fluid">
            <div class="row">

                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>

                    <!-- Logo -->
                    <div class="logo-container" style="margin-top: 4px">
                        <div class="logo-wrap">
                            <a href="#home" class="scroll">
                                Decorate
                            </a>
                        </div>
                    </div>
                </div> <!-- end navbar-header -->


                <div class="nav-wrap">
                    <div class="collapse text-center navbar-collapse w3ls-nav navbar-collapse">

                        <ul class="nav navbar-nav w3ls-nav1 text-center">

                            <li >
                                <a href="/" class="scroll">主页</a>
                            </li>
                            <li class="active">
                                <a href="/register" class="scroll">注册</a>
                            </li>

                        </ul>
                    </div>
                </div> <!-- end col -->
            </div> <!-- end row -->
        </div> <!-- end container -->

    </nav> <!-- end navbar -->
</div>

<div style="width: 100%;height: 120px;background-image: url('images/banner1.jpg')"></div>
<!-- Register -->
<div class="modal-content">
    <div class="modal-header">
        <h4 class="modal-title" id="myModalLabel"></h4>
    </div>
    <div class="modal-body">
        <div class="alert" role="alert" id="modalAlert" hidden></div>
        <form class="form-horizontal">
            <div class="form-group" id="groupID">
                <label for="inputID" class="col-sm-2 control-label">User ID</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="inputID" placeholder="User's ID"
                           disabled>
                </div>
            </div>
            <div class="form-group">
                <label for="inputName" class="col-sm-2 control-label">用户名</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="inputName" placeholder="User's Name">
                </div>
            </div>
            <div class="form-group">
                <label for="inputPassword" class="col-sm-2 control-label">密码</label>
                <div class="col-sm-10">
                    <input type="password" class="form-control" id="inputPassword"
                           placeholder="Password">
                </div>
            </div>
            <div class="form-group" id="groupRepeat">
                <label for="inputRepeat" class="col-sm-2 control-label">再输一次</label>
                <div class="col-sm-10">
                    <input type="password" class="form-control" id="inputRepeat"
                           placeholder="Repeat Password">
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary" id="saveChanges">注册 Register</button>
    </div>
</div>


<!-- //Contact -->
<!-- footer -->
<div class="footer">
    <div class="container">
        <div class="list">
            <ul class="social-footer-icons">
                <li>Decorate</li>
                <li>
                    <a href="#"><span class="fa fa-dribbble" aria-hidden="true"></span></a>
                    <a href="#"><span class="fa fa-facebook" aria-hidden="true"></span></a>
                    <a href="#"><span class="fa fa-vk" aria-hidden="true"></span></a>
                    <a href="#"><span class="fa fa-pinterest-p" aria-hidden="true"></span></a>
                    <a href="#"><span class="fa fa-twitter" aria-hidden="true"></span></a>
                </li>
            </ul>

            <ul class="address">
                <li> Sophia Road</li>
                <li> 1594 Nicolas</li>
                <li> U S A</li>
            </ul>

            <ul class="email">
                <li>+1 358 649 4885</li>
                <li><a href="mailto:service@decorate.com">service@decorate.com</a></li>
            </ul>
        </div>
    </div>
</div>
<!-- //footer -->
<!-- copyright -->
<div class="copyright">
    <div class="container">
        <p>© 2017 Decorate. All rights reserved | Design by <a href="http://w3layouts.com">W3layouts</a></p>
    </div>
</div>
<!-- //copyright -->
<!-- scripts -->
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.flexslider.js"></script>
<!-- smooth scrolling -->
<script src="js/SmoothScroll.min.js"></script>
<script type="text/javascript" src="js/move-top.js"></script>
<script type="text/javascript" src="js/easing.js"></script>
<!-- here stars scrolling icon -->


<!-- Register -->
<script type="application/javascript">
    $(function () {
        createModal();
    });

    function initModal() {
        $("#modalAlert").hide();
        $("#groupID").hide();
        $("#inputID").val();
        $("#inputName").val("");
        $("#inputPassword").val("");
        $("#groupRepeat").show();
        $("#inputRepeat").val("");
    }

    function alertError(text) {
        var al = $("#modalAlert");
        al.get(0).className = "alert alert-error";
        al.shake(2, 10, 200);
        al.slideDown("fast");
        al.text(text);
    }

    function createModal() {
        initModal();
        var btn = document.getElementById("saveChanges");
        btn.setAttribute("onclick", "createNewUser()");
        $("#myModalLabel").text("用户注册");
    }

    function createNewUser() {
        var name = $("#inputName").val();
        var password = $("#inputPassword").val();
        var repeat = $("#inputRepeat").val();
        if (name == "")
            alertError("用户名不可以为空");
        else if (password != repeat)
            alertError("两次密码输入不一样");
        else if (password == "")
            alertError("密码不可以为空");
        else {
            $.ajax({
                type: "POST",
                url: "/api/user/register",
                data: {
                    username: name,
                    password: password,
                },
                success: function (data) {
                    if (data.resultCode == 0) {
                        myAlert("系统提示", "新建成功");
                        initModal();
                    }
                    else {
                        myAlert("错误",data.message);;
                    }
                }
            })
        }
    }

</script>
</body>
</html>
